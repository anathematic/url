Shortens URLs.

Will not use duplicate URLs, instead will return the shortened version that was used before.